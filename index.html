<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Display a map with a custom style</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.css" rel="stylesheet" />
    <style>
        body { margin: 0; padding: 0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoibHVkb3ZpY2xhdW5lciIsImEiOiJjazVtNzdvYzkwdTMzM2txa2xvaXJ0ZnY3In0.G6nft9RJo94MHqOOmIaYwA';

 


    var map = new mapboxgl.Map({
        container: 'map',           // container id
        style:"styles/style.json"
    });

    



  


    map.on('load',
        function () {

            map.addSource('latest-data', {
                type: 'geojson',
                data: 'geojson/2019_Ludovic.geojson'
            });



            // ### Layer: Heatmap
            map.addLayer(
                {
                    "id": "2019-heatmap-Ludovic",
                    "type": "heatmap",
                    "metadata": { "mapbox:group": "e686e2df54587f748da0baac43613eb5" },
                    "source": "latest-data",
                    "layout": {
                    },
                    "paint": {
                        "heatmap-intensity": [
                            "interpolate",
                            ["linear"],
                            ["zoom"],
                            0,
                            5,
                            5,
                            1.3
                        ],
                        "heatmap-radius": [
                            "interpolate",
                            ["linear"],
                            ["zoom"],
                            1,
                            1,
                            5,
                            4,
                            7,
                            5,
                            9,
                            6,
                            12,
                            11,
                            15,
                            25
                        ],
                        "heatmap-color": [
                            "interpolate",
                            ["linear"],
                            ["heatmap-density"],
                            0,
                            "rgba(0, 0, 255, 0)",
                            0.1,
                            "royalblue",
                            0.3,
                            "cyan",
                            0.5,
                            "lime",
                            0.7,
                            "yellow",
                            1,
                            "red"
                        ],
                        "heatmap-weight": [
                            "case",
                            [">", ["get", "vario"], 1],
                            [
                                "interpolate",
                                ["linear"],
                                ["get", "vario"],
                                0,
                                0,
                                1,
                                1,
                                1.5,
                                2,
                                2.5,
                                3,
                                3,
                                4,
                                3.2,
                                5
                            ],
                            0
                        ]
                    }
                }

            );
            // End : Heatmap layer

            // ### Layer: Vario values
            map.addLayer(
                {
                    "id": "2019-Symbol-Ludovic",
                    "type": "symbol",
                    "metadata": {"mapbox:group": "e686e2df54587f748da0baac43613eb5"},
                    "source": "latest-data",
                    "minzoom": 6,
                    "filter": [">", ["get", "vario"], 1],
                    "layout": {
                        "text-justify": "auto",
                        "text-size": 13,
                        "text-offset": [0, 1],
                        "text-field": [
                            "step",
                            ["zoom"],
                            "",
                            8,
                            ["to-string", ["get", "vario"]]
                        ]
                    },
                    "paint": {}
                }
            );
            // End: Vario values


        });


    


</script>
 
</body>
</html>